<div class='add-product-form'>
    <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm.value)">
        <div class="input-group">
          <input class="form-control"
            type="text"
            name="_id"
            #_id="ngModel"
            placeholder="Enter product ID: leave it empty if you are adding products."
            ngModel
          />
        </div>
        <div class="input-group">
          <input class="form-control"
            type="text"
            name="name"
            #name="ngModel"
            placeholder="Enter product name"
            ngModel
          />
          <input class="form-control"
            type="text"
            name="type"
            #type="ngModel"
            placeholder="Enter product type"
            ngModel
          />
          <input class="form-control"
            type="text"
            name="shortDesc"
            #shortDesc="ngModel"
            placeholder="Enter short description"
            ngModel
          />
        </div>
        <div class="input-group">
          <input class="form-control"
            type="text"
            name="longDesc"
            #longDesc="ngModel"
            placeholder="Enter long description"
            ngModel
          />
          <input class="form-control"
            type="text"
            name="image"
            #image="ngModel"
            placeholder="Enter product image url"
            ngModel
          />
        </div>
        <div class="input-group">
          <input class="form-control"
            type="number"
            step="0.01"
            name="price"
            #price="ngModel"
            placeholder="Enter product price"
            ngModel
          />
          <input class="form-control"
            type="number"
            step="1"
            name="stock"
            #stock="ngModel"
            placeholder="Enter product stock"
            ngModel
          />
          <div class="input-group-append">
            <button class="btn" type="submit" [disabled]="!productForm.form.valid">Add / Update Product</button>
          </div>
        </div>
    </form>      
</div>
<div class='products'>
    <div *ngFor="let product of products">
        <div class='product'>
            <img [src]="getImagePath(product.image)" alt={{product.shortDesc}} [ngClass]="getSizeStyle(product.type)">
            <p><br>
                ID: {{product._id}}<br>
                {{product.name}}<br>
                {{product.type}} | {{ product.price | currency: 'CAD': 'symbol-narrow': '1.2-2' }}
            </p>
            <button type="button" class="btn btn-outline-dark" (click)="decreaseQuantity(product)">-</button>
            {{ product.quantity }}
            <button type="button" class="btn btn-outline-dark" (click)="increaseQuantity(product)">+</button>
            <button type="button" class="btn btn-light" (click)="handleAddToCart(product)">Add to Cart</button>
            <button type="submit" class="btn btn-light" (click)="onDeleteProduct(product._id)">x</button>
        </div>
    </div>
</div>
